var receitas = {
    "bolo nega maluca ": {
        ingredientes: ["Agua", "chocolate em pó", "açúcar", "ovos", "óleo", "sal", "farinha", "fermento em pó", "Leite condensado", "chocolate em pó", "manteiga", "creme de leite"],
        qtd: ["1 xícara de ÁGUA", "1 e 1/4 xícara de CHOCOLATE EM PÓ", "1 e 1/2 de AÇÚCAR CRISTAL", "4 OVOS	1 xícara de ÓLEO VEGETAL" , "Uma pitada de SAl"	,"2 xícaras de FARINHA", "1 colher de sopa de FERMENTO EM PÓ" ,"1 lata de LEITE CONDENSADO" , "5 colheres de sopa de CHOCOLATE EM PÓ" , "1 colher de sopa de MANTEIGA" , "1/2 LATA DE CREME DE LEITE"],
        preparo: ["famos ver isso depois"]
    },
    "bolo de cenoura": {
        ingredientes: ["Óleo", "cenoura", "ovo", "açúcar", "farinha de trigo", "fermento pó químico", "Chocolate ao leite", "meio amargo em gotas", "creme de leite fresco e manteiga"],
        qtd: ["1/2 xícara (chá) de óle", "3 cenouras médias raladas", "4 ovos	2 xícaras (chá) de açúca", "2 e 1/2 xícaras (chá) de farinha de trigo", "1 colher (sopa) de fermento em pó", "150g de chocolate ao leite ou meio amargo	200g de creme de leite fresco", "1 colher de sopa manteiga"],
        descriçao: '',
        preparo: 'Massa: Em um liquidificador, adicione a cenoura, os ovos e o óleo, depois misture. Acrescente o açúcar e bata novamente por 5 minutos. Em uma tigela ou na batedeira, adicione a farinha de trigo e depois misture novamente. Acrescente o fermento e misture lentamente com uma colher. Asse em um forno preaquecido a 180° C por aproximadamente 40 minutos. Cobertura Coloque uma panela com agua para esquentar, assim que aparecer umas bolinhas na agua, coloque um bowl de vidro que seja maior que a panela para o chocolate não ter contato com a agua nem o vapor, apenas esquentar a parte de baixo do vidro, com o chocolate dentro do bowl em banho maria derreter o chocolate, quando estiver bem lisinho tirar do banho maria adicionar o creme de leite a manteiga e mexer bem. Agora só adicionar encima do bolo',
    },
    "bolo de laranja": {
        ingredientes: ["Laranja, ovos", "óleo", "açúcar", "farinha de trigo", "fermento em pó", "manteiga" ],
        qtd: ["2 laranjas pêra","2 ovos", "1 xícara (chá) de óleo" , "1½ xícara (chá) de açúcar" , "2 xícaras (chá) de farinha de trigo" , "2 colheres (chá) de fermento em pó", "manteiga", "farinha de trigo para untar e polvilhar a fôrma"],
        preparo: ["famos ver isso depois"],
    },
    "arroz": {
        ingredientes:["Arroz", "cebola", "alho", "agua" ],
        qtd:["1 colher (sopa) de óleo",	"meia cebola pequena picada", "1 dente de alho pequeno picado", "1 e meia xícara (chá) de arroz", "3 xícaras (chá) de água fervente"],
        preparo:[],
    },
    "arroz a grega ": {
        ingredientes:["Oleo", "pimentão vermelho", "pimenta verde", "cenoura", "uvas passas", "cebola", "alho", "arroz", "agua" ],
        qtd:["2 colheres (sopa) de óleo","1 pimentão verde pequeno em tirinhas finas","1 pimentão vermelho pequeno em tirinhas finas","1 cenoura em tirinhas finas","1 xícara (chá) de uvas-passas","1 cebola picada1 dente de alho picado","2 xícaras (chá) de arroz lavado e escorrido","4 xícaras (chá) de água fervente"] ,
        preparo:[],
    },
    "feijao basico": {
        ingredientes:["Feijão", "agua", "cebola", "alho", "azeite", "louro", "sal", "pimenta" ],
        qtd:["2 xícaras (chá) de feijão carioca (ou rosinha)","6 xícaras (chá) de água","1 cebola","2 dentes de alho","2 colheres (sopa) de azeite","2 folhas de louro	sal","pimenta-do-reino moída na hora a gosto"] ,
        preparo:[],
    },
    "feijao preto ": {
        ingredientes:["Feijão", "alho", "cebola", "calabresa", "pimenta vermelha", "sal" ],
        qtd:["1/2 kg de feijão preto","1 cebola picada","2 linguicinhas calabresas finas", "cortadas em rodelas","pimenta vermelha","Sal"] ,
        preparo:[],
    },
    "carne de panela ": {
        ingredientes:["Acem", "Batata", "cenoura", "cebola", "alho", "extrato de tomate", "farinha de trigo"," vinagre de vinho tinto", "agua", "azeite", "louro", "cominho em pó", "colorau", "canela", "sal", "pimenta"],
        qtd:["kg de acém","400 g de batata bolinha (cerca de 15 unidades)","2 cenouras","½ cebola 2 dentes de alho","1 colher (sopa) de extrato de tomate","2 colheres (sopa) de farinha de trigo","3 colheres (sopa) de vinagre de vinho tinto","1 xícara (chá) de água fervente","azeite a gosto","2 folhas de louro","1 colher (chá) de cominho em pó","½ colher (chá) de colorau","¼ de colher (chá) de canela em pó","sal" ,"pimenta-do-reino moída na hora a gosto"] ,
        preparo:[],
    },
    "lazanha": {
        ingredientes:["Massa de lasanha", "carne moída", "creme de leitem manteiga", "presunto", "mussarela", "sal", "leitem cebola"," óleo", "molho de tomate", "alho", "queijo ralado"],
        qtd:["500 g de massa de lasanha","500 g de carne moída","2 caixas de creme de leite","3 colheres de manteiga","500 g de presunto","500 g de mussarela","sal a gosto","2 copos de leite","1 cebola ralada","3 colheres de óleo","1 caixa de molho de tomate","3 dentes de alho amassados","1 pacote de queijo ralado"] ,
        preparo:[],
    },
    "strogonoff de frango": {
        ingredientes: ["Frango", "azeite", "sal", "páprica picante", "tomate pelados", "mostarda"," molho inglês", "champignons","creme de leite"],
        qtd: ["1 colher (sobremesa) de azeite", "400g de Tiras de Frango" , "1 colher (café) de sal", "1 colher (café) de páprica picante", "½ lata de tomates pelado" , "1 colher (sopa) de mostarda" , "1 colher (sopa) de molho inglês" , "1 xícara (chá) de champignons cortados ao meio" , "1 lata de creme de leite"],
        preparo: ["famos ver isso depois"],
    },
    "pure de batata": {
        ingredientes:["?"],
        qtd:["4 batatas médias (inglesa, monalisa, russet)","1 xícara de chá de leite","Sal a gosto","Pimenta-do-reino a gosto","Noz-moscada a gosto","2 colheres de sopa de manteiga gelada"] ,
        preparo:[],
    },
    "batata assada ": {
        ingredientes:["Batata", "alecrim", "tomilho", "salvia", "azeite", "alho", "sal", "pimenta"],
        qtd:["3 batatas","3 ramos de alecrim","4 ramos de tomilho","10 folhas de sálvia","3 colheres (sopa) de azeite","5 dentes de alho com casca","sal e pimenta-do-reino moída na hora a gosto"] ,
        preparo:[],
    },
    "ovos mexidos ": {
        ingredientes:["Ovos", "leite","sal", "pimenta", "manteiga" ],
        qtd:["4 ovos","2 colheres (sopa) de leite","Sal a gosto	Pimenta a gosto","Manteiga a gosto"] ,
        preparo:[],
    },
    "ovos mexidos com bacon": {
        ingredientes:["Ovos", "cebola", "bacom", "leite", "sal", "pimenta", "azeite"],
        qtd:["1 colher (sopa) de cebola picada","50g de bacon fatiado e picado","4 ovos","2 colheres (sopa) de leite","Sal a gosto","Pimenta-do-reino a gosto"] ,
        preparo:[],
    },
    "macarrao na manteiga ": {
        ingredientes:["Macarrão","manteiga", "salsinha", "sal","pimenta"],
        qtd:["500 g de macarrão","3 colheres (sopa) de manteiga","Salsinha a gosto","Pimenta do reino a gosto","Orégano a gosto","Sal a gosto","Queijo ralado"],
        preparo:[],
    },
}


function acharReceitas(ingredientes) {
    // depois voltar as duas linhas abaixo e apagar os ingredientes salvos em ingredientesaRR
    //var ingredientes = prompt("informe os ingredientes separados por virgula");
    var ingredientesArr = ingredientes.split(",");
    var qtdIngredientesReceitaObj = {};

    // linha abaixo serve para montar os ingredientes do usuario para n ter que ficar pedindo
    //ingredientesArr = [];

    var objReceita;
    var arrIngredientes;
    var qtdIngredientesReceita;
    Object.keys(receitas).forEach(function (nomeReceita) {
        objReceita = receitas[nomeReceita];
        arrIngredientes = objReceita.ingredientes;
        qtdIngredientesReceita = 0;

        for (var i = 0; i < arrIngredientes.length; i++) {
            for (var ci = 0; ci < ingredientesArr.length; ci++) {
                if (ingredientesArr[ci].trim() == arrIngredientes[i]) {
                    qtdIngredientesReceita += 1;
                }
            }
        }
        qtdIngredientesReceitaObj[nomeReceita] = qtdIngredientesReceita;
    });

    console.dir(qtdIngredientesReceitaObj)

    Object.keys(qtdIngredientesReceitaObj).forEach(function (nomeReceita) {
        var receita = 'A receita "' + nomeReceita + '" tem "' + qtdIngredientesReceitaObj[nomeReceita] + '" ingredientes';

        console.dir(receita);
        //_receitaLista.insertAdjacentHTML('beforeend', '<li>' + receita + '</li>');
    });

    /*
    var _receitaLista = document.querySelector('.receitas-lista');
    _receitaLista.innerHTML = '';

    Object.keys(qtdIngredientesReceitaObj).forEach(function (nomeReceita) {
        var receita = 'A receita "' + nomeReceita + '" tem "' + qtdIngredientesReceitaObj[nomeReceita] + '" ingredientes';

        console.dir(receita);
        _receitaLista.insertAdjacentHTML('beforeend', '<li>' + receita + '</li>');
    });
    */
}

document.querySelector('.buscar-receitas').addEventListener('click', function (e) {
    var _btn = this,
        ingredientes = document.querySelector('.receitas-inpt');

    window.location.href = 'recipe-found.html?ingredientes=' + ingredientes.value;
})